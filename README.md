# FastAPI Quiz Screen Mode

Это приложение поддерживает экранный режим викторины, в котором ведущий может
планировать автоматический запуск игры и управлять вопросами в реальном времени.

## Автозапуск игры

* На экране настройки комнаты можно выбрать время начала и источник автозапуска
  (например, "UI" для запуска из интерфейса).
* После планирования система отправляет уведомление всем подключённым клиентам с
  точным временем старта и задержкой.
* Перед началом автозапуск проверяет наличие выбранной викторины и загружает
  вопросы. Если вопросов нет или произошла ошибка загрузки, всем клиентам
  отправляется событие об отмене с указанием причины.
* При успешном запуске состояние комнаты сбрасывается: таймеры вопросов
  отменяются, очистается история событий и ответы игроков, после чего всем
  отображается первый вопрос.

### Ограничения

* Автозапуск требует заранее выбранной викторины для комнаты. Без неё запуск
  отменяется с сообщением об ошибке.
* Если устройство ведущего теряет соединение, уведомления об автозапуске
  сохраняются в истории событий комнаты и будут воспроизведены при повторном
  подключении.
* Таймеры вопросов запускаются только после фактического старта игры, поэтому
  при ручной смене времени старта рекомендуется отменить существующий автозапуск
  и создать новый.

## Быстрый обзор UI

1. **Экран комнаты** — отображает текущий вопрос, результаты и финальный счёт.
2. **Панель управления ведущего** — позволяет выбирать викторину, планировать
   автозапуск, вручную начинать игру и отслеживать подключённых игроков.
3. **Игровые клиенты** — получают события `show_question`, `show_results` и
   `show_final`, а также уведомления `auto_start_scheduled` и
   `auto_start_cancelled` для синхронизации интерфейса.

Чтобы обновить расписание, используйте кнопку отмены автозапуска и укажите
новое время. После отмены игроки мгновенно получат уведомление и смогут
подстроить свои устройства под новый график.
